/* ===================================================================
   PALETA (solo para este contenido .cd)
   =================================================================== */
:root {
  --content-bg: #eff6ff;
  --content-panel: #ffffff;
  --content-text: #1e3a8a;
  --content-text-muted: #1e40af;
  --content-border: #dbeafe;
  --content-hover: rgba(30,64,175,.05);
  --content-accent: #f97316;
  --content-accent-bg: rgba(249,115,22,.08);
  --content-accent-bg-light: rgba(249,115,22,.12);

  --ok: #16a34a;
  --bad: #dc2626;
  --warn: #eab308;
}

/* ===================================================================
   CONTENEDOR
   =================================================================== */
.cd{
  max-width: 100%;
  width: 100%;
  margin: 0;
  padding: 1.25rem 1rem;
  color: var(--content-text);
  background: var(--content-bg);
}

/* ===================================================================
   HEADER
   =================================================================== */
.cd__header{ margin: .25rem 0 1rem; }
.cd__headerRow{ display: flex; align-items: center; justify-content: space-between; gap: .75rem; }
.cd__title{ margin: 0; font-size: 1.25rem; color: var(--content-text); }
.cd__actionsTop{ display: flex; gap: .5rem; flex-wrap: wrap; }
.cd__desc{ margin: .5rem 0 0; max-width: 100%; color: var(--content-text-muted); line-height: 1.5; }

/* ===================================================================
   BOTONES
   =================================================================== */
.cd__btn{
  border: 1px solid var(--content-border);
  border-radius: .6rem; padding: .55rem .9rem; cursor: pointer;
  font-weight: 600; transition: background .2s ease, transform .1s ease;
  background: #fff; color: var(--content-text);
}
.cd__btn:hover{ transform: translateY(-1px); background: var(--content-hover); }
.cd__btn--ghost{ background: var(--content-hover); color: var(--content-text-muted); }
.cd__btn--ok{ background: #ecfdf5; border-color: #a7f3d0; color: #065f46; }
.cd__btn--ok:hover{ background: #d1fae5; }
.cd__btn--danger{ background: #fef2f2; border-color: #fecaca; color: #7f1d1d; }
.cd__btn--danger:hover{ background: #fee2e2; }
.cd__btn--warn{ background: #fffbeb; border-color: #fef3c7; color: #854d0e; }
.cd__btn--warn:hover{ background: #fef3c7; }
.cd__link{ color: var(--content-accent); text-decoration: underline; }

/* ===================================================================
   TARJETAS
   =================================================================== */
.cd__card{
  background: var(--content-panel);
  color: var(--content-text);
  border: 1px solid var(--content-border);
  border-radius: 14px;
  padding: 1rem;
  box-shadow: 0 1px 0 rgba(0,0,0,.02);
}

/* ===================================================================
   GRID PRINCIPAL
   =================================================================== */
.cd__gridMain{ display: grid; gap: 1rem; grid-template-columns: 1fr; }
.cd__gridMain.has-detail{ grid-template-columns: minmax(0, 1.6fr) minmax(0, 1fr); }

/* ===================================================================
   LISTA
   =================================================================== */
.cd__list h2{ margin: 0; font-size: 1rem; }
.cd__listHead{ display: flex; align-items: center; justify-content: space-between; gap: .75rem; margin-bottom: .75rem; }
.cd__order select{
  background: var(--content-panel);
  color: var(--content-text);
  border: 1px solid var(--content-border);
  padding: .45rem .6rem; border-radius: .5rem; outline: none;
}
.cd__tableWrap{ overflow: auto; border-radius: 10px; }
.cd__table{ width: 100%; border-collapse: collapse; font-size: .95rem; }
.cd__table th, .cd__table td{
  padding: .6rem .65rem;
  border-bottom: 1px solid var(--content-border);
  text-align: left;
  vertical-align: middle;
  font-variant-numeric: tabular-nums;
}
.cd__table thead th{ font-weight: 600; opacity: .9; background: var(--content-hover); }
.cd__table tbody tr:hover{ background: var(--content-hover); }
.cd__table tr.is-sel{ background: var(--content-accent-bg); }

.cd__table th:nth-child(1), .cd__table td:nth-child(1){ white-space: nowrap; width: 110px; }
.cd__table th:nth-child(3), .cd__table td:nth-child(3){ white-space: nowrap; }
.cd__table th:nth-child(4), .cd__table td:nth-child(4){ white-space: nowrap; }

.cd__badge{
  display: inline-flex; align-items: center; padding: .44rem .9rem;
  font-size: 1rem; line-height: 1; border-radius: 999px;
  border: 1px solid var(--content-border); white-space: nowrap;
  background: #fff;
}
.cd__badge.is-pending{ background: rgba(255,193,7,.12); }
.cd__badge.is-review{ background: var(--content-accent-bg-light); }
.cd__badge.is-ok{ background: rgba(16,185,129,.15); }
.cd__badge.is-bad{ background: rgba(239,68,68,.15); }
.cd__table th:nth-child(5), .cd__table td:nth-child(5){ width: 160px; }
.cd__table td:nth-child(5){ white-space: nowrap; }

/* ===================================================================
   DETALLE
   =================================================================== */
.cd__detailHead{ display: flex; align-items: center; justify-content: space-between; margin-bottom: .75rem; }
.cd__detail h2{ margin: 0; font-size: 1rem; }
.cd__detailGrid{ display: grid; gap: .8rem; }
.cd__kv{ display: grid; grid-template-columns: 130px 1fr; gap: .5rem; align-items: center; }
.cd__k{ opacity: .8; font-size: .9rem; }
.cd__v{ font-size: .95rem; }

.cd__block .cd__k{ display: block; margin-bottom: .3rem; }
.cd__file{
  border: 1px solid var(--content-border);
  border-radius: .75rem;
  overflow: hidden;
  background: var(--content-bg);
  position: relative;
}
.cd__file img{
  display: block;
  width: 100%;
  height: auto;
  max-height: clamp(380px, 60vh, 620px);
  object-fit: contain;
}
.cd__file embed{
  width: 100%;
  height: clamp(380px, 60vh, 620px);
  display: block;
  border: 0;
}

.cd__textBlock{
  padding: .65rem .75rem;
  border-radius: .6rem;
  border: 1px solid var(--content-border);
  background: var(--content-panel);
  color: var(--content-text);
}

.cd__actionsRow{ display: flex; flex-wrap: wrap; gap: .5rem; margin-top: .25rem; }
.cd__resp{ margin-top: .25rem; }
.cd__resp label{ display: block; margin: .5rem 0 .35rem; font-size: .9rem; opacity: .85; }
.cd__resp textarea{
  width: 100%; min-height: 110px; resize: vertical;
  padding: .65rem .75rem; border-radius: .6rem; border: 1px solid var(--content-border);
  background: var(--content-panel); color: var(--content-text); outline: none;
}

/* Botón descarga (consistencia) */
.cd__dl{
  position: absolute; top: 8px; right: 8px;
  display: inline-flex; align-items: center; justify-content: center;
  width: 34px; height: 34px; border-radius: 8px;
  background: rgba(0,0,0,.55); backdrop-filter: blur(2px); text-decoration: none;
  transition: background .2s ease;
}
.cd__dl:hover{ background: rgba(0,0,0,.75); }
.cd__dl svg{ width: 18px; height: 18px; fill: #fff; }

/* ===================================================================
   HISTORIAL
   =================================================================== */
.cd__history{ margin-top: 1rem; }
.cd__historyHead{ display: flex; align-items: center; justify-content: space-between; gap: .75rem; margin-bottom: .5rem; }
.cd__table--history{ border: 1px solid var(--content-border); border-radius: .6rem; overflow: hidden; }
.cd__table--history thead th{ background: var(--content-hover); font-size: .9rem; }
.cd__table--history tbody tr:hover{ background: var(--content-accent-bg); }

.cd__th--icons, .cd__td--icons{ text-align: center; width: 130px; white-space: nowrap; }

/* === NUEVO: chips de icono como en Certificados === */
.cd__chipIcon{
  --size: 34px;
  width: var(--size); height: var(--size);
  display: inline-flex; align-items: center; justify-content: center;
  border-radius: 10px;
  border: 1px solid var(--content-border);
  background: #fff; cursor: pointer; margin-right: .35rem;
  transition: background .15s ease, transform .1s ease;
}
.cd__chipIcon:hover{ background: var(--content-hover); transform: translateY(-1px); }

/* Íconos con CSS mask (ojo y papelera) */
.ico{
  display: inline-block; width: 18px; height: 18px;
  background: #1e3a8a; /* azul */
  mask-repeat: no-repeat; mask-position: center; mask-size: contain;
}
.ico-view{
  /* Heroicons eye-outline */
  mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path stroke="%23000" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5s8.268 2.943 9.542 7c-1.274 4.057-5.065 7-9.542 7s-8.268-2.943-9.542-7z"/><circle cx="12" cy="12" r="3" stroke="%23000" stroke-width="2"/></svg>');
}
.ico-trash{
  /* Heroicons trash-outline */
  mask-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path stroke="%23000" stroke-width="2" d="M19 7l-1 12a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 7m3 0V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M4 7h16"/></svg>');
}

/* (Compat: estilos antiguos por si quedaron botones previos) */
.cd__iconBtn{
  background: var(--content-hover);
  border: 1px solid var(--content-border);
  border-radius: .6rem; padding: .4rem; cursor: pointer;
  transition: background .15s ease, transform .1s ease;
}
.cd__iconBtn:hover{ background: var(--content-accent-bg); transform: scale(1.06); }
.cd__icon{ width: 18px; height: 18px; display: block; fill: var(--content-text); opacity: .85; }
.cd__iconBtn:hover .cd__icon{ opacity: 1; }

/* ===================================================================
   RESPONSIVE
   =================================================================== */
@media (max-width: 1100px){
  .cd__gridMain.has-detail{ grid-template-columns: minmax(0, 1.45fr) minmax(0, 1fr); }
  .cd__file embed{ height: clamp(340px, 54vh, 560px); }
  .cd__file img{ max-height: clamp(340px, 54vh, 560px); }
}
@media (max-width: 900px){
  .cd__headerRow{ flex-direction: column; align-items: stretch; }
  .cd__actionsTop{ justify-content: flex-end; }
  .cd__gridMain.has-detail{ grid-template-columns: 1fr; }
  .cd__detailHead{ position: sticky; top: 0; background: var(--content-panel); padding-top: .25rem; z-index: 1; }
  .cd{ padding-left: .75rem; padding-right: .75rem; }
}
@media (max-width: 720px){
  .cd__listHead{ flex-direction: column; align-items: start; }
  .cd__kv{ grid-template-columns: 1fr; }
  .cd__file embed{ height: clamp(300px, 48vh, 480px); }
  .cd__file img{ max-height: clamp(300px, 48vh, 480px); }
}

/* ===================================================================
   PRINT
   =================================================================== */
@media print{
  body{ background: #fff; }
  .adm__top, .adm__aside, .adm__backdrop, .cd__header, .cd__gridMain { display: none !important; }
  .cd, .cd__card{ margin: 0; padding: 0; max-width: none; box-shadow: none; border: 0; }
  .cd__history{ display: block !important; }
}
