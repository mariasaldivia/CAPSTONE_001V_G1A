/* ===== CONTENEDOR ===== */
.cd{
  max-width: 1200px;
  margin: 0 auto;
  padding: 1rem;
}

/* ===== HEADER ===== */
.cd__header{ margin: .25rem 0 1rem; }
.cd__headerRow{
  display: flex; align-items: center; justify-content: space-between; gap: .75rem;
}
.cd__title{ margin: 0; font-size: 1.25rem; color: var(--adm-text); }
.cd__actionsTop{ display: flex; gap: .5rem; flex-wrap: wrap; }
.cd__desc{ margin: .5rem 0 0; max-width: 900px; color: #c8d0e0; line-height: 1.5; }

/* ===== BOTONES ===== */
.cd__btn{ border: 0; border-radius: .6rem; padding: .55rem .9rem; cursor: pointer; font-weight: 600; transition: background .2s ease, transform .1s ease; }
.cd__btn:hover{ transform: translateY(-1px); }
.cd__btn--ghost{ background: rgba(255,255,255,.06); color: var(--adm-text); }
.cd__btn--ok{ background: #22c55e; color: #062235; }
.cd__btn--danger{ background: #ef4444; color: #fff; }
.cd__btn--warn{ background: #f59e0b; color: #1f2937; }
.cd__link{ color: var(--accent); text-decoration: underline; }

/* ===== TARJETAS ===== */
.cd__card{
  background: var(--adm-panel);
  color: var(--adm-text);
  border: 1px solid var(--adm-soft);
  border-radius: 14px;
  padding: 1rem;
}

/* ===== GRID PRINCIPAL ADAPTABLE ===== */
/* Cuando NO hay detalle: la lista ocupa 100% */
.cd__gridMain{ display: grid; gap: 1rem; grid-template-columns: 1fr; }
/* Cuando hay detalle: 60% lista + 40% detalle */
.cd__gridMain.has-detail{ grid-template-columns: minmax(0, 1.4fr) minmax(0, 1fr); }

/* ===== LISTA ===== */
.cd__list h2{ margin: 0; font-size: 1rem; }
.cd__listHead{
  display: flex; align-items: center; justify-content: space-between; gap: .75rem; margin-bottom: .75rem;
}
.cd__order select{
  background: #0b1224; color: var(--adm-text); border: 1px solid var(--adm-soft);
  padding: .45rem .6rem; border-radius: .5rem; outline: none;
}
.cd__tableWrap{ overflow: auto; border-radius: 10px; }
.cd__table{ width: 100%; border-collapse: collapse; font-size: .95rem; }
.cd__table th, .cd__table td{
  padding: .6rem .65rem;
  border-bottom: 1px solid var(--adm-soft);
  text-align: left;
  vertical-align: middle;
  font-variant-numeric: tabular-nums;
}
.cd__table thead th{ font-weight: 600; opacity: .9; background: rgba(255,255,255,.03); }
.cd__table tr.is-sel{ background: rgba(56,189,248,.06); }

/* No cortar ID, RUT ni fecha */
.cd__table th:nth-child(1), .cd__table td:nth-child(1){ white-space: nowrap; width: 110px; }
.cd__table th:nth-child(3), .cd__table td:nth-child(3){ white-space: nowrap; }
.cd__table th:nth-child(4), .cd__table td:nth-child(4){ white-space: nowrap; }

/* Estado (badge) */
.cd__badge{
  display: inline-flex; align-items: center;
  padding: .44rem .9rem; font-size: 1rem; line-height: 1;
  border-radius: 999px; border: 1px solid var(--adm-soft); white-space: nowrap;
}
.cd__badge.is-pending{ background: rgba(255,193,7,.12); }
.cd__badge.is-review{  background: rgba(5,189,248,.12); }
.cd__badge.is-ok{      background: rgba(16,185,129,.15); }
.cd__badge.is-bad{     background: rgba(239,68,68,.15); }
.cd__table th:nth-child(5), .cd__table td:nth-child(5){ width: 160px; }
.cd__table td:nth-child(5){ white-space: nowrap; }

/* ===== DETALLE ===== */
.cd__detailHead{
  display: flex; align-items: center; justify-content: space-between; margin-bottom: .75rem;
}
.cd__detail h2{ margin: 0; font-size: 1rem; }
.cd__detailGrid{ display: grid; gap: .8rem; }
.cd__kv{ display: grid; grid-template-columns: 130px 1fr; gap: .5rem; align-items: center; }
.cd__k{ opacity: .8; font-size: .9rem; }
.cd__v{ font-size: .95rem; }
.cd__block .cd__k{ display: block; margin-bottom: .3rem; }
.cd__file{ border: 1px solid var(--adm-soft); border-radius: .6rem; overflow: hidden; background: #0b1224; position: relative; }
.cd__file img{ display: block; width: 100%; height: auto; }
.cd__actionsRow{ display: flex; flex-wrap: wrap; gap: .5rem; margin-top: .25rem; }
.cd__resp{ margin-top: .25rem; }
.cd__resp label{ display: block; margin: .5rem 0 .35rem; font-size: .9rem; opacity: .85; }
.cd__resp textarea{
  width: 100%; min-height: 110px; resize: vertical;
  padding: .65rem .75rem; border-radius: .6rem; border: 1px solid var(--adm-soft);
  background: #0b1224; color: var(--adm-text); outline: none;
}
/* bot√≥n de descarga sobre la imagen/pdf */
.cd__dl{ position: absolute; top: 8px; right: 8px; display: inline-flex; align-items: center; justify-content: center; width: 34px; height: 34px; border-radius: 8px; background: rgba(0,0,0,.55); backdrop-filter: blur(2px); text-decoration: none; transition: background .2s ease; }
.cd__dl:hover{ background: rgba(0,0,0,.75); }
.cd__dl svg{ width: 18px; height: 18px; fill: #fff; }

/* ===== INGRESO MANUAL ===== */
.cd__manual h2{ margin: 0; font-size: 1rem; }
.cd__manualHead{
  display: flex; align-items: center; justify-content: space-between; margin-bottom: .75rem;
}
.cd__form{ display: grid; gap: 1rem; }
.cd__gridForm{ display: grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: .75rem; }
.cd__group{ display: flex; flex-direction: column; gap: .3rem; }
.cd__group--full{ grid-column: 1 / -1; }
.cd__group span{ font-size: .9rem; opacity: .8; }
.cd__group input, .cd__group select{
  background: #0b1224; border: 1px solid var(--adm-soft); border-radius: .5rem; padding: .55rem .7rem; color: var(--adm-text); outline: none; font-size: .95rem;
}
.cd__group input:focus, .cd__group select:focus{ border-color: var(--accent); }
.cd__hint{ font-size: .8rem; opacity: .7; }

/* ===== HISTORIAL ===== */
.cd__history{ margin-top: 1rem; }
.cd__historyHead{
  display: flex; align-items: center; justify-content: space-between; gap: .75rem; margin-bottom: .5rem;
}
.cd__table--history{ border: 1px solid var(--adm-soft); border-radius: .6rem; overflow: hidden; }
.cd__table--history thead th{ background: rgba(255,255,255,.04); font-size: .9rem; }
.cd__table--history tbody tr:hover{ background: rgba(56,189,248,.08); }

/* Icon-only buttons */
.cd__th--icons, .cd__td--icons{ text-align: center; width: 130px; }
.cd__iconBtn{
  background: rgba(255,255,255,.05); border: 1px solid var(--adm-soft); border-radius: .6rem; padding: .4rem; cursor: pointer;
  transition: background .15s ease, transform .1s ease;
}
.cd__iconBtn:hover{ background: rgba(56,189,248,.1); transform: scale(1.08); }
.cd__icon{ width: 18px; height: 18px; display: block; fill: var(--adm-text); opacity: .85; }
.cd__iconBtn:hover .cd__icon{ opacity: 1; }

/* ===== RESPONSIVE ===== */
@media (max-width: 1100px){
  .cd__gridMain.has-detail{ grid-template-columns: 1.3fr 1fr; }
}
@media (max-width: 900px){
  .cd__headerRow{ flex-direction: column; align-items: stretch; }
  .cd__actionsTop{ justify-content: flex-end; }
  .cd__gridMain.has-detail{ grid-template-columns: 1fr; }
  .cd__detailHead{ position: sticky; top: 0; background: var(--adm-panel); padding-top: .25rem; z-index: 1; }
}
@media (max-width: 720px){
  .cd__listHead{ flex-direction: column; align-items: start; }
  .cd__kv{ grid-template-columns: 1fr; }
  .cd__gridForm{ grid-template-columns: 1fr; }
}

/* ===== PRINT: exportar SOLO el historial ===== */
@media print{
  body{ background: #fff; }
  .adm__top, .adm__aside, .adm__backdrop{ display: none !important; }
  .cd, .cd__card{ margin: 0; padding: 0; max-width: none; box-shadow: none; border: 0; }
  .cd__header, .cd__gridMain, .cd__manual{ display: none !important; }
  .cd__history{ display: block !important; }
}
