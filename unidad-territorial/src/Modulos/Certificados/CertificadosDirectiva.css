/* ===== Vista Certificados Directiva ===== */

/* Contenedor centrado */
.cd{
  max-width: 1200px;
  margin: 0 auto;
  padding: 1rem;
}

/* Header */
.cd__header{ margin: .25rem 0 1rem; }
.cd__headerRow{
  display: flex; align-items: center; justify-content: space-between; gap: .75rem;
}
.cd__title{ margin: 0; font-size: 1.25rem; color: var(--adm-text); }
.cd__actionsTop{ display: flex; gap: .5rem; flex-wrap: wrap; }
.cd__desc{ margin: .5rem 0 0; max-width: 900px; color: #c8d0e0; line-height: 1.5; }

/* Botones gen√©ricos */
.cd__btn{ border: 0; border-radius: .6rem; padding: .55rem .9rem; cursor: pointer; font-weight: 600; }
.cd__btn--ghost{ background: rgba(255,255,255,.06); color: var(--adm-text); }
.cd__btn--ok{ background: #22c55e; color: #062235; }
.cd__btn--danger{ background: #ef4444; color: #fff; }
.cd__btn--warn{ background: #f59e0b; color: #1f2937; }
.cd__link{ color: var(--accent); text-decoration: underline; }

/* Grid principal (lista + detalle; historial abajo) */
.cd__grid{ display: grid; gap: 1rem; }
@media (min-width: 1024px){
  .cd__grid{ grid-template-columns: 1.2fr 1fr; grid-auto-rows: minmax(0, auto); }
  .cd__history{ grid-column: 1 / -1; } /* ocupa ancho completo */
}

/* Cards */
.cd__card{
  background: var(--adm-panel);
  color: var(--adm-text);
  border: 1px solid var(--adm-soft);
  border-radius: 14px;
  box-shadow: 0 8px 20px rgba(0,0,0,.25);
  padding: 1rem;
}

/* Lista */
.cd__list h2{ margin: 0; font-size: 1rem; }
.cd__listHead{
  display: flex; align-items: center; justify-content: space-between; gap: .75rem; margin-bottom: .75rem;
}
.cd__order select{
  background: #0b1224; color: var(--adm-text); border: 1px solid var(--adm-soft);
  padding: .45rem .6rem; border-radius: .5rem; outline: none;
}
.cd__tableWrap{ overflow: auto; border-radius: 10px; }
.cd__table{ width: 100%; border-collapse: collapse; font-size: .95rem; }
.cd__table th, .cd__table td{
  padding: .6rem .65rem; border-bottom: 1px solid var(--adm-soft); text-align: left;
}
.cd__table thead th{
  font-weight: 600; opacity: .9; background: rgba(255,255,255,.03);
}
.cd__table tr.is-sel{ background: rgba(56,189,248,.06); }

.cd__badge{
  font-size: .8rem; padding: .15rem .5rem; border-radius: 999px; border: 1px solid var(--adm-soft);
}
.cd__badge.is-pending{ background: rgba(255,193,7,.12); }
.cd__badge.is-review{ background: rgba(56,189,248,.12); }
.cd__badge.is-ok{ background: rgba(16,185,129,.15); }
.cd__badge.is-bad{ background: rgba(239,68,68,.15); }

/* Detalle */
.cd__detail h2{ margin: 0 0 .75rem; font-size: 1rem; }
.cd__detailGrid{ display: grid; gap: .8rem; }
.cd__kv{ display: grid; grid-template-columns: 130px 1fr; gap: .5rem; align-items: center; }
.cd__k{ opacity: .8; font-size: .9rem; }
.cd__v{ font-size: .95rem; }

.cd__block .cd__k{ display: block; margin-bottom: .3rem; }
.cd__file{
  border: 1px solid var(--adm-soft); border-radius: .6rem; overflow: hidden; background: #0b1224;
}
.cd__file img{ display: block; width: 100%; height: auto; }

.cd__actionsRow{ display: flex; flex-wrap: wrap; gap: .5rem; margin-top: .25rem; }

.cd__resp{ margin-top: .25rem; }
.cd__resp label{ display: block; margin: .5rem 0 .35rem; font-size: .9rem; opacity: .85; }
.cd__resp textarea{
  width: 100%; min-height: 110px; resize: vertical;
  padding: .65rem .75rem; border-radius: .6rem; border: 1px solid var(--adm-soft);
  background: #0b1224; color: var(--adm-text); outline: none;
}

/* Historial */
.cd__historyHead{
  display: flex; align-items: center; justify-content: space-between; gap: .75rem; margin-bottom: .5rem;
}
.cd__historyActions{ display: flex; align-items: center; gap: .5rem; }
.cd__timeline{ list-style: none; padding: 0; margin: 0; display: grid; gap: .5rem; }
.cd__timeline li{ display: grid; grid-template-columns: 120px 12px 1fr; align-items: center; gap: .5rem; }
.cd__tWhen{ opacity: .8; font-size: .9rem; }
.cd__tDot{ width: 8px; height: 8px; border-radius: 999px; background: var(--accent); justify-self: center; }
.cd__tTxt{ line-height: 1.35; }

/* Responsive */
@media (max-width: 900px){
  .cd__headerRow{ flex-direction: column; align-items: stretch; }
  .cd__actionsTop{ justify-content: flex-end; }
}
@media (max-width: 720px){
  .cd__listHead{ align-items: start; flex-direction: column; }
  .cd__kv{ grid-template-columns: 1fr; }
  .cd__timeline li{ grid-template-columns: 90px 10px 1fr; }
}

/* Print: exportar SOLO el historial */
@media print{
  body{ background: #fff; }
  .adm__top, .adm__aside, .adm__backdrop{ display: none !important; }
  .cd, .cd__grid, .cd__card{ margin: 0; padding: 0; max-width: none; box-shadow: none; border: 0; }
  .cd__header, .cd__list, .cd__detail{ display: none !important; }
  .cd__history{ display: block !important; }
  .cd__historyHead button, .cd__actionsTop{ display: none !important; }
  .cd__timeline li{ page-break-inside: avoid; }
}
